<!-- Enlighter Metainfo
{
  "id": "5405",
  "title": "Advanced Safety: Using .aiignore and Allow Lists",
  "next_button_title": "I'm ready to wrap up"
}
-->

<h5>Setting Boundaries for the Agent</h5>

<p>While Junie’s planning-first approach provides a strong safety net, you may have sensitive files or critical configurations that you want to protect. Junie offers two key features for this: <code>.aiignore</code> files and the <strong>Action Allowlist</strong>.</p>

<h5>Restricting Access with <code>.aiignore</code></h5>
<p>Similar to <code>.gitignore</code>, an <code>.aiignore</code> file in your project root tells Junie which files and folders it should not process. If a task requires accessing an ignored file, Junie will stop and ask for your explicit approval.</p>

<p>Let's create an <code>.aiignore</code> file to protect our newly created MCP configuration.</p>

<callout label="Ask Junie to create .aiignore file" type="chat">
Create an `.aiignore` file in the project root. Add the `.junie/` directory to it, so that the agent does not touch any files within it without my permission. Also add the logs into the ignore list.
</callout>

<p>The <code>.aiignore</code> file should look like this:</p>

<img style="margin: auto; display: block;" src="https://ucarecdn.com/1fbc0701-e203-4010-86be-d2eae66c3936/" alt="Junie .aiignore file" title="Junie .aiignore file">

<p>Now, if you ask Junie to modify the MCP configuration, it will first present a warning and require approval, giving you an extra layer of security.</p>

<callout label="Ask Junie to change the settings of the MCP server" type="chat">
Delete the MCP configuration file in .junie/mcp/
</callout>

<p><strong>Checklist:</strong></p>
<checkable-item title=".aiignore file is created and Junie can't modify the MCP configuration">
  .aiignore file is created and Junie can't modify the MCP configuration
</checkable-item>

<h5>Automating Approval with the Action Allowlist</h5>
<p>For routine and safe actions, you may not want to be prompted for approval every time. For example, running <code>git status</code> to check the repository state. You can add these safe commands to the <strong>Action Allowlist</strong>.</p>

<p>To do this:</p>
<ol>
    <li>Go to <code>Settings → Tools → Junie → Action Allowlist</code>.</li>
    <li>Click the <strong>Add</strong> button and select <strong>Terminal Rule</strong>.</li>
    <li>In the text box, you can enter a specific command (e.g., `git status`) or a regular expression to match a pattern of commands.</li>
</ol>

<callout label="Ask Junie to write a regex for a terminal rule" type="chat">
  What regular expression should I use to allow Junie to cover all the `git` commands in the terminal?
</callout>

<img style="margin: auto; display: block;" src="https://ucarecdn.com/d1053057-f6af-4e14-94ce-0a07bc46f604/" alt="Junie Action Allowlist settings" title="Junie Action Allowlist settings">

<p>For example, adding `^git\s` as a regex would allow Junie to run any `git` command without asking you first. This is a powerful feature to streamline your workflow for trusted actions.</p>

<warning>Use the Action Allowlist wisely. Only add commands that you are completely confident are safe to be run automatically in your project context.</warning>

<p>By combining <code>.aiignore</code> for sensitive files and the Action Allowlist for routine commands, you can fine-tune your interaction with Junie to be both efficient and secure.</p>
